# スクラップ単語帳 ルール定義

このディレクトリは、Claude Codeセッション中に出会った新しい概念・用語を記録し、
スペースドリピティション的に復習するための単語帳システムです。

---

## ファイル構成

```
Scraps/
├── CLAUDE.md                        ← このファイル（ルール定義）
├── _template.md                     ← 新規カテゴリファイルのテンプレート
├── _archive.md                      ← 理解度[x][x][x][x]になったスクラップの保管庫
├── SQL.md                           ← カテゴリ別ファイル（例）
├── TypeScript.md                    ← カテゴリ別ファイル（例）
└── .claude/
    └── skills/
        ├── status-scrap/SKILL.md    ← /status-scrap コマンド（今日の復習件数表示）
        └── review-scrap/SKILL.md   ← /review-scrap コマンド（復習セッション）
```

- **1セッション = 1スクラップ**を原則とする
- **カテゴリ別にファイルを作成**し、各スクラップはそのファイル内の `##` 見出しで管理する
- カテゴリが存在しない場合は新規ファイルを作成する

---

## スクラップのフォーマット

各カテゴリファイル内のスクラップは以下の形式で記述する:

```markdown
## {トピック名}

| 項目 | 値 |
|------|----|
| 理解度 | [x][ ][ ][ ] |
| 保存日 | YYYY-MM-DD |
| 最終復習 | YYYY-MM-DD |
| 次回復習 | YYYY-MM-DD |

**Q:** {質問文}

**A:** {回答}

**メモ:** {補足・背景・使用例など（省略可）}
```

---

## 理解度レベルと復習スケジュール

| インジケーター | 意味 | 次回復習まで |
|----------------|------|-------------|
| [x][ ][ ][ ] | 保存したばかり。まだ復習していない | 1日後 |
| [x][x][ ][ ] | 質問に対して概要を言えた | 3日後 |
| [x][x][x][ ] | 自分の言葉で説明でき、腑に落ちている | 7日後 |
| [x][x][x][x] | 完全に定着 → `_archive.md` へ移動 | 出題しない |

理解度を更新したとき、**更新後のレベルに対応する日数**で次回復習日を設定する。

---

## Claudeへの指示（操作方法）

### スクラップを保存する

ユーザーが「スクラップに保存して」「これを残して」などと言ったとき:

1. カテゴリを判断（不明な場合はユーザーに確認）
2. セッション内の会話を振り返り、以下の内容を自動生成してユーザーに提示する:
   - `## {トピック名}`（見出し）
   - **Q:** そのトピックの核心を問う1文
   - **A:** 回答の要点（簡潔に）
   - **メモ:** 補足・背景・使用例（あれば）
3. 内容を提示した後、以下の質問を投げかける:

   > 「{カテゴリ名} にこの内容で保存するなら理解度を1〜4で回答してください。」
   > ```
   > 1: [x][ ][ ][ ] 保存したばかり
   > 2: [x][x][ ][ ] 概要は言える
   > 3: [x][x][x][ ] 自分の言葉で説明できる
   > 4: [x][x][x][x] 完全に定着（即アーカイブ）
   > ```

4. ユーザーの回答を確認する:
   - **1〜4 が返ってきた場合**: 対応する理解度でファイルに保存する
   - **それ以外が返ってきた場合**: 修正内容を反映して同じ質問を再度投げかける（1〜4が返るまで繰り返す）
5. 保存日・最終復習日は本日の日付、次回復習日は選択した理解度に対応する日数で設定する（理解度4の場合は即 `_archive.md` へ移動）

### 復習する

`/review-scrap` スラッシュコマンドで実行する。詳細な手順は `.claude/skills/review-scrap/SKILL.md` に定義。

### 理解度を更新する

- 理解度の判断は**ユーザー自身が行う**（Claudeは提案しない）
- 更新時に書き換える項目:
  - 理解度インジケーター
  - 最終復習日 → 本日の日付
  - 次回復習日 → 更新後のレベルに対応する日数を本日に加算

| 更新後レベル | 次回復習日 |
|-------------|-----------|
| [x][ ][ ][ ] | 本日 + 1日 |
| [x][x][ ][ ] | 本日 + 3日 |
| [x][x][x][ ] | 本日 + 7日 |
| [x][x][x][x] | アーカイブへ移動（次回復習日は設定しない） |

- ユーザーが `[x][x][x][x]` と申告した場合:
  1. そのスクラップ（`##` 見出しからその次の `##` 見出しの直前まで）を `_archive.md` の末尾に移動する
  2. 元のカテゴリファイルから該当スクラップを削除する
  3. 以降の復習には出題しない

### Git コミット・プッシュ

スクラップの**保存**または**理解度更新**を行ったとき、ファイル更新の直後に自動でコミット・プッシュする:

```bash
git add {更新したファイル}
git commit -m "scrap: {操作内容の要約} (YYYY-MM-DD)"
git push origin main
```

コミットメッセージの例:
- `scrap: add CTE to SQL (2026-02-25)`
- `scrap: review SQL, Web — update 3 items (2026-02-25)`
- `scrap: archive "upsert トグル設計" from SQL (2026-02-25)`

ユーザーへの確認は不要。ファイル保存と一体の操作として実行する。

---

## 注意事項

- 1セッションで複数のスクラップを保存する場合は、それぞれ別の `##` 見出しで追加する
- カテゴリ名はなるべく簡潔に（例: `SQL`, `TypeScript`, `HTTP`, `Git`, `設計`）
- メモ欄は省略可だが、当時の文脈や使用例があると復習時に役立つ
